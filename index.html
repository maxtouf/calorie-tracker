<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suivi de Calories</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Suivi de Calories</h1>
        
        <div class="summary">
            <div class="summary-item">
                <span>Calories Aujourd'hui:</span>
                <span id="today-calories">0</span>
            </div>
            <div class="summary-item">
                <span>Objectif Quotidien:</span>
                <span id="calorie-goal">2000</span>
                <button id="edit-goal" class="btn-small">Modifier</button>
            </div>
            <div class="summary-item">
                <span>Restant:</span>
                <span id="remaining-calories">2000</span>
            </div>
        </div>

        <div class="form-container">
            <h2>Ajouter un aliment</h2>
            
            <div class="tabs">
                <button class="tab-btn active" data-tab="manual-entry">Entrée manuelle</button>
                <button class="tab-btn" data-tab="food-database">Base d'aliments</button>
            </div>
            
            <div class="tab-content active" id="manual-entry">
                <form id="food-form">
                    <div class="form-group">
                        <label for="food-name">Aliment:</label>
                        <input type="text" id="food-name" placeholder="Nom de l'aliment" required>
                    </div>
                    <div class="form-group">
                        <label for="calories">Calories:</label>
                        <input type="number" id="calories" placeholder="Calories" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="meal-type">Repas:</label>
                        <select id="meal-type">
                            <option value="breakfast">Petit-déjeuner</option>
                            <option value="lunch">Déjeuner</option>
                            <option value="dinner">Dîner</option>
                            <option value="snack">Collation</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">Ajouter</button>
                </form>
            </div>
            
            <div class="tab-content" id="food-database">
                <div class="form-group">
                    <label for="food-search">Rechercher un aliment:</label>
                    <input type="text" id="food-search" placeholder="Rechercher...">
                </div>
                
                <div class="form-group">
                    <label for="food-category">Catégorie:</label>
                    <select id="food-category">
                        <option value="all">Toutes les catégories</option>
                        <option value="Fruits">Fruits</option>
                        <option value="Légumes">Légumes</option>
                        <option value="Viandes">Viandes</option>
                        <option value="Poissons">Poissons</option>
                        <option value="Produits laitiers">Produits laitiers</option>
                        <option value="Céréales et féculents">Céréales et féculents</option>
                        <option value="Légumineuses">Légumineuses</option>
                        <option value="Noix et graines">Noix et graines</option>
                        <option value="Sucreries et desserts">Sucreries et desserts</option>
                        <option value="Boissons">Boissons</option>
                        <option value="Plats préparés">Plats préparés</option>
                    </select>
                </div>
                
                <div id="food-results" class="food-results">
                    <!-- Les résultats de recherche seront ajoutés ici dynamiquement -->
                </div>
                
                <div class="selected-food-form" id="selected-food-form" style="display: none;">
                    <h3>Aliment sélectionné: <span id="selected-food-name"></span></h3>
                    <p><span id="selected-food-calories"></span> calories pour <span id="selected-food-portion"></span></p>
                    
                    <form id="database-food-form">
                        <div class="form-group">
                            <label for="db-food-quantity">Quantité (en grammes/ml):</label>
                            <input type="number" id="db-food-quantity" placeholder="Quantité" value="100" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="db-meal-type">Repas:</label>
                            <select id="db-meal-type">
                                <option value="breakfast">Petit-déjeuner</option>
                                <option value="lunch">Déjeuner</option>
                                <option value="dinner">Dîner</option>
                                <option value="snack">Collation</option>
                            </select>
                        </div>
                        <input type="hidden" id="db-food-index" value="">
                        <button type="submit" class="btn">Ajouter au journal</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="entries-container">
            <h2>Journal Alimentaire</h2>
            <div class="filter-container">
                <label for="filter-date">Date:</label>
                <input type="date" id="filter-date">
            </div>
            <div id="food-entries">
                <!-- Les entrées seront ajoutées ici dynamiquement -->
            </div>
        </div>
        
        <div class="chart-container">
            <h2>Historique sur 7 jours</h2>
            <canvas id="calories-chart"></canvas>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="foods-database.js"></script>
    <script src="app.js"></script>
</body>
</html>